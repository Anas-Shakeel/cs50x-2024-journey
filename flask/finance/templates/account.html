{% extends "layout.html" %}


{% block title %}
    Account
{% endblock %}

{% block heading %}
    Account
{% endblock %}

{% block main %}
<div class="accordion" id="accordionExample">
    <!-- 0th accordion -->
    <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseZero" aria-expanded="true" aria-controls="collapseZero">
            Account Info
          </button>
        </h2>
        <div id="collapseZero" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
          <div class="accordion-body text-start">
            <!-- Body of 0th accordion -->
            <div class="text-start">
              <label class="form-label lead">Username: <strong class="text-body-secondary">{{ username }}</strong></label>
          </div>
          <div class="text-start">
            <label class="form-label lead">Cash in account: <strong class="text-body-secondary">${{ user_cash }} </strong></label>
        </div>
          </div>
        </div>
    </div>

    <!-- 1st Accordion -->
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
          Change Username & Password
        </button>
      </h2>

      <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <!-- Change Username -->
            <form action="/change_username" method="post">
                <div class="text-start">
                    <label for="username" class="form-label">Change Username</label>
                </div>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Username" name="username" aria-label="username" aria-describedby="button-addon2" required autocomplete="off">
                    <button class="btn btn-outline-primary" type="submit">Submit</button>
                </div>
                <div class="text-start">
                  <div class="form-text">
                  Your username must be <strong>non-existing</strong>, must be <strong>4-20 characters</strong> long, and must not contain <strong>spaces, special characters (\\/:;*?"`'<>|%//-=+,), or emoji.</strong>
                  </div>
              </div>
            </form>

            <!-- Divider -->
            <hr class="divider">

              <!--Change Password  -->
              <form action="/change_password" method="post">
                <div class="text-start">
                    <label for="password" class="form-label">Change Password</label>
                </div>
                  <div class="input-group mb-3">
                      <input type="password" class="form-control" placeholder="Password" name="password" aria-label="password" aria-describedby="button-addon2" required>
                      <input type="password" class="form-control" placeholder="Confirm Password" name="confirm_password" aria-label="password" aria-describedby="button-addon2" required>
                        <button class="btn btn-outline-primary" type="submit">Submit</button>

                    </div>
                    <div class="text-start">
                        <div id="passwordHelpBlock" class="form-text">
                        Your password must be <strong>4-20 characters</strong> long, and must not contain <strong>spaces, or emoji.</strong>
                        </div>
                    </div>
                </div>
            </form>
      </div>
    </div>

    <!-- 2nd Accordion -->
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Add Cash
        </button>
      </h2>
      <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <form action="/add_cash" method="post">
              <div class="text-start">
                <label for="cash_to_add" class="form-label">Add Cash</label>
              </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">$</span>
                    <span class="input-group-text">{{ user_cash }}</span>
                    <input type="number" class="form-control" name="cash_to_add" placeholder="Add cash to your account" aria-label="Dollar amount (with dot and two decimal places)" required>
                    <button class="btn btn-outline-primary" type="submit">Add</button>
                </div>
            </form>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Danger Zone
        </button>
      </h2>
      <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <div>
            <!-- <button type="submit" class="btn btn-outline-danger">Delete Account</button> -->
            <a href="/logout" class="btn btn-outline-primary">Log Out</a>
          </div>
          <!-- Delete account field -->
            <form action="/delete_account" method="post">
                <div class="text-start">
                  <label for="password" class="form-label">Delete Account</label>
              </div>
                <div class="input-group mb-3">
                  <input type="password" class="form-control" placeholder="Enter password to delete account" name="password" aria-label="password" aria-describedby="button-addon2" required>
                  <button type="submit" class="btn btn-outline-danger">Delete Account</button>
                </div>
            </form>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
